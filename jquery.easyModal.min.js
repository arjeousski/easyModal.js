(function(n){var t={init:function(t){return t=n.extend({top:"auto",autoOpen:!1,overlayOpacity:.5,overlayColor:"#000",overlayClose:!0,closeOnEscape:!0,closeButtonClass:".close",onOpen:!1,onClose:!1,animation:!1},t),this.each(function(){var i=t,u=n('<div class="lean-overlay"><\/div>'),r,f,e;u.css({display:"none",position:"fixed","z-index":2e3,top:0,left:0,height:"100%",width:"100%",background:i.overlayColor,opacity:i.overlayOpacity}),r=n(this),r.css({display:"none",position:"fixed","z-index":2001,left:"50%",top:parseInt(i.top)>-1?i.top+"px":"50%","margin-left":-(r.outerWidth()/2)+"px","margin-top":(parseInt(i.top)>-1?0:-(r.outerHeight()/2))+"px"}),f=function(){if(i.onOpen&&typeof i.onOpen=="function")i.onOpen(r[0])},r.bind("openModal",function(){u.appendTo("body"),n(this).css("display","block"),i.animation?u.fadeIn(200,f):(u.css("display",""),f())}),e=function(){if(i.onClose&&typeof i.onClose=="function")i.onClose(r[0])},r.bind("closeModal",function(){n(this).css("display","none"),i.animation?u.fadeOut(200,e):(u.css("display","none"),e()),u.remove()}),u.click(function(){i.overlayClose&&r.trigger("closeModal")}),n(document).keydown(function(n){i.closeOnEscape&&n.keyCode==27&&r.trigger("closeModal")}),r.find(i.closeButtonClass).click(function(n){r.trigger("closeModal"),n.preventDefault()}),i.autoOpen&&r.trigger("openModal")})}};n.fn.easyModal=function(i){if(t[i])return t[i].apply(this,Array.prototype.slice.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.easyModal");else return t.init.apply(this,arguments)}})(jQuery);